<!DOCTYPE html>
<html lang="en-US">

<head>

  
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Maven ja Gradle | Tiralabra - 2020 alkukesä</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Maven ja Gradle" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Alla mahdollisimman yksinkertaistettu tapa saada pystyyn Java Gradle tai Maven projekti. Jos tiedät jo mitä teet ja sinulla on tapa jota mielummin käytät, niin voit vapaasti sivuuttaa tämän ohjeen." />
<meta property="og:description" content="Alla mahdollisimman yksinkertaistettu tapa saada pystyyn Java Gradle tai Maven projekti. Jos tiedät jo mitä teet ja sinulla on tapa jota mielummin käytät, niin voit vapaasti sivuuttaa tämän ohjeen." />
<link rel="canonical" href="http://localhost:4000/2020_alkukesa/fi/maven-gradle/" />
<meta property="og:url" content="http://localhost:4000/2020_alkukesa/fi/maven-gradle/" />
<meta property="og:site_name" content="Tiralabra - 2020 alkukesä" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-06-01T19:40:53+03:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://localhost:4000/2020_alkukesa/fi/maven-gradle/","datePublished":"2020-06-01T19:40:53+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020_alkukesa/fi/maven-gradle/"},"headline":"Maven ja Gradle","description":"Alla mahdollisimman yksinkertaistettu tapa saada pystyyn Java Gradle tai Maven projekti. Jos tiedät jo mitä teet ja sinulla on tapa jota mielummin käytät, niin voit vapaasti sivuuttaa tämän ohjeen.","dateModified":"2020-06-01T19:40:53+03:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="stylesheet" href="/2020_alkukesa/assets/css/style.css?v=4d9fe5afcb6eb45fb2739b48b711df458de36f88">
  <script src=/2020_alkukesa/assets/js/main.js ></script>

</head>

<body>

  
  <nav class="upper-nav" id="nav">
    <button id="hide" onclick="hideNav()"> &#x2715;</button>
    <button id="show" onclick="showNav()"> </button>
    <ol>
        <li class="upper-nav-obj"><a href="/2020_alkukesa/index">Etusivu</a>

            

            
        <li class="upper-nav-obj"><a href="/2020_alkukesa/fi/aiheet/">Aiheita</a>
            

        </li>
        

            
        <li class="upper-nav-obj"><a href="/2020_alkukesa/fi/aikataulu/">Aikataulu</a>
            

        </li>
        

            
        <li class="upper-nav-obj"><a href="/2020_alkukesa/fi/bug_bounty/">Puutteista materiaalissa</a>
            

        </li>
        

            
        <li class="upper-nav-obj"><a href="/2020_alkukesa/fi/dokumentaatio/">Dokumentaatio</a>
            

        </li>
        

            
        <li class="upper-nav-obj"><a href="/2020_alkukesa/fi/faq/">FAQ</a>
            

        </li>
        

            
        <li class="upper-nav-obj"><a href="/2020_alkukesa/fi/git-ohje/">Git ohje</a>
            

        </li>
        

            
        <li class="upper-nav-obj"><a href="/2020_alkukesa/fi/issuet/">Issueiden luonnin salliminen repooon</a>
            

        </li>
        

            
        <li class="upper-nav-obj"><a href="/2020_alkukesa/fi/labtool/">Labtool</a>
            

        </li>
        

            
        <li class="upper-nav-obj"><a href="/2020_alkukesa/fi/maven-gradle/">Maven ja Gradle</a>
            

        </li>
        

            
        <li class="upper-nav-obj"><a href="/2020_alkukesa/fi/palautukset/">Palautukset</a>
            

        </li>
        

            
        <li class="upper-nav-obj"><a href="/2020_alkukesa/fi/vertaisarvioinnit/">Vertaisarvioinnit</a>
            

        </li>
        
    </ol>
</nav>
  

  <header class="page-header" role="banner">
    <h1 class="project-name">Maven ja Gradle</h1>
    <h2 class="project-tagline">
      Helsingin yliopiston Aineopintojen harjoitustyö: Tietorakenteet ja algoritmit - kurssin kurssisivu</h2>
    
    <a href="https://github.com/millakortelainen/2020_alkukesa" class="btn">View on GitHub</a>
    
    
  </header>

  <main id="content" class="main-content" role="main">
    <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <script src="../../assets/fuu.js"></script>
    <h1 class="post-title p-name" itemprop="name headline">Maven ja Gradle</h1>
    <p class="post-meta"></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Alla mahdollisimman yksinkertaistettu tapa saada pystyyn Java Gradle tai Maven projekti. Jos tiedät jo mitä teet ja sinulla on tapa jota mielummin käytät, niin voit vapaasti sivuuttaa tämän ohjeen.</p>

<p><a href="https://en.wikipedia.org/wiki/Apache_Maven">Maven</a> ja <a href="https://en.wikipedia.org/wiki/Gradle">Gradle</a> on javalle tehtyjä <a href="https://en.wikipedia.org/wiki/Build_automation">Build automation</a> -työkaluja. Molemmat helpottavat esimerkiksi testikattavuusraporttien tekemistä tai jarin rakentamista.</p>

<h3 id="1-luo-projektin-repostorio">1. Luo Projektin repostorio</h3>

<p>Käytettäessä Netbeansia on yleensä näppärä luoda ensin repositorio, johon projekti luodaan, koska Netbeans osaa usein päivittää automaattisesti <code class="highlighter-rouge">.gitignore</code> tiedostoa kun projektin kehittyy.</p>

<p><img src="../../assets/create.png" alt="Git projekti" /></p>

<p>Kannattaa ainakin ruksia “Initialize repository with README.md” että projektin voi kloonata heti luonnin jälkeen.</p>

<h3 id="2-kloonaa-repositorio">2. Kloonaa repositorio</h3>

<p>Kopioi repositorion linkki</p>

<p><img src="../../assets/clone.png" alt="clone" /></p>

<p>Aja <code class="highlighter-rouge">git clone &lt;linkki repoon&gt;</code></p>

<h3 id="vain-gradle-3a-luo-netbeansilla-gradle-projekti">[vain GRADLE] 3a. Luo netbeansilla gradle projekti</h3>

<p>Tarkasta <code class="highlighter-rouge">Tools -&gt; Plugins</code> takaa valikosta että neatbeansiin on asennettu gradle tuki.</p>

<p><img src="../../assets/gradle_plugin.png" alt="plugin" /></p>

<p>Jos tukea ei ole asennettu niin asenna se “available plugins välilehdeltä”.</p>

<p>Luo normaalisti uusi projekti netbeansilla mutta valitse asetuksista <code class="highlighter-rouge">Gradle -&gt; Single Gradle Project</code>.</p>

<p><img src="../../assets/gradle_create1.png" alt="gradle create" /></p>

<p>Aseta projektin sijainniksi kloonaamasi repo.</p>

<p><img src="../../assets/gradle_create2.png" alt="location" /></p>

<p>Lisää <code class="highlighter-rouge">build.gradle</code> tiedostoon ainakin seuraavat rivit. Tiedosto kannattaa muutenkin pitää ajantasalla. (Lisää rivit oikeaan kohtaan tiedostoa. Tiedostossa valmiiksi olevat rivit kyllä kertoo paikat)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apply plugin: 'jacoco'

jacocoTestReport {
    reports {
        xml.enabled = true
        html.enabled = true
    }
}

check.dependsOn jacocoTestReport

</code></pre></div></div>

<h3 id="vain-maven-3b-luo-netbeansilla-maven-projekti">[vain MAVEN] 3b Luo netbeansilla Maven projekti</h3>

<p>Projekti luodaan normaalisti NetBeansin <strong>New Project</strong>-nappulasta. Nyt kuitenkin ei valita kategoriaa <strong>Java</strong>, vaan hieman alempaa etsitään kohta <strong>Maven</strong>. Oikeasta valikosta voidaan nyt valita <strong>Java Application</strong>.</p>

<p><img src="../../assets/mvn_create.png" alt="create maven" /></p>

<p>Sivulla <strong>Name and Location</strong> kannattaa antaa ohjelmalle hyvä ja kuvaava nimi. Aseta <strong>Project Location</strong>:ksi Git-repositoriosi polku (omalle koneellesi luotu repositoriokansio, josta pushit ja commitit tehdään). Myös <strong>Group id</strong> täytyy vaihtaa ohjelman nimen mukaiseksi tai ainakin joksikin muuksi kuin <em>com.mycompany.enterprising.domain</em> , ja se pitää kirjoittaa <strong>pienillä kirjaimilla</strong>. Tämä on tärkeää mutaatiotestauksen toiminnan kannalta. GroupId muuttaa ohjelman vakiopakkauksen nimen.</p>

<p><img src="../../assets/loc.png" alt="location" /></p>

<p>Maven ei eroa “normaalista” Java-projektista kovinkaan paljoa. Suurin ero on pom.xml-tiedosto, joka kuvaa xml:nä projektin riippuvuudet eri kirjastoista. Lisäämme sinne valmiiksi muutaman testausta auttavan kirjaston.</p>

<p>Nyt projektisi pom.xml:n pitäisi näyttää jotakuinkin seuraavalta:</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">"http://maven.apache.org/POM/4.0.0"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="na">xsi:schemaLocation=</span><span class="s">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>superohjelma<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>SuperOhjelma<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>0.1.0<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;packaging&gt;</span>jar<span class="nt">&lt;/packaging&gt;</span>
    <span class="nt">&lt;properties&gt;</span>
        <span class="nt">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.build.sourceEncoding&gt;</span>
        <span class="nt">&lt;maven.compiler.source&gt;</span>1.8<span class="nt">&lt;/maven.compiler.source&gt;</span>
        <span class="nt">&lt;maven.compiler.target&gt;</span>1.8<span class="nt">&lt;/maven.compiler.target&gt;</span>
    <span class="nt">&lt;/properties&gt;</span>

    <span class="c">&lt;!-- Lisättävä osa tähän väliin--&gt;</span>

<span class="nt">&lt;/project&gt;</span>
</code></pre></div></div>

<p>Tämän xml:n alkuosa on jokaisella projektille yksilöllinen. Siihen emme koske. Sen sijaan haluamme lisätä muuutaman riippuvuuden ja pluginin projektiin. Lisätään <code class="highlighter-rouge">&lt;/properties&gt;</code>-tagin ja <code class="highlighter-rouge">&lt;/project&gt;</code>-tagin väliin osa:</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependencies&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>junit<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>junit<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>4.12<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>

<span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="nt">&lt;plugin&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;configuration&gt;</span>
                <span class="nt">&lt;source&gt;</span>1.8<span class="nt">&lt;/source&gt;</span>
                <span class="nt">&lt;target&gt;</span>1.8<span class="nt">&lt;/target&gt;</span>
            <span class="nt">&lt;/configuration&gt;</span>
            <span class="nt">&lt;version&gt;</span>3.3<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>
        <span class="nt">&lt;plugin&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.pitest<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>pitest-maven<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>1.1.8<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
<span class="nt">&lt;/build&gt;</span>
</code></pre></div></div>

<p>Lisäyksen jälkeen pom.xml pitäisi näyttää jotakuinkin tältä:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">"http://maven.apache.org/POM/4.0.0"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="na">xsi:schemaLocation=</span><span class="s">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>superohjelma<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>SuperOhjelma<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;packaging&gt;</span>jar<span class="nt">&lt;/packaging&gt;</span>
    <span class="nt">&lt;properties&gt;</span>
        <span class="nt">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.build.sourceEncoding&gt;</span>
        <span class="nt">&lt;maven.compiler.source&gt;</span>1.8<span class="nt">&lt;/maven.compiler.source&gt;</span>
        <span class="nt">&lt;maven.compiler.target&gt;</span>1.8<span class="nt">&lt;/maven.compiler.target&gt;</span>
    <span class="nt">&lt;/properties&gt;</span>

    <span class="nt">&lt;dependencies&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>junit<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>junit<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>4.12<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;/dependencies&gt;</span>

    <span class="nt">&lt;build&gt;</span>
        <span class="nt">&lt;plugins&gt;</span>
            <span class="nt">&lt;plugin&gt;</span>
                <span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
                <span class="nt">&lt;configuration&gt;</span>
                    <span class="nt">&lt;source&gt;</span>1.8<span class="nt">&lt;/source&gt;</span>
                    <span class="nt">&lt;target&gt;</span>1.8<span class="nt">&lt;/target&gt;</span>
                <span class="nt">&lt;/configuration&gt;</span>
                <span class="nt">&lt;version&gt;</span>3.3<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;/plugin&gt;</span>
            <span class="nt">&lt;plugin&gt;</span>
                <span class="nt">&lt;groupId&gt;</span>org.pitest<span class="nt">&lt;/groupId&gt;</span>
                <span class="nt">&lt;artifactId&gt;</span>pitest-maven<span class="nt">&lt;/artifactId&gt;</span>
                <span class="nt">&lt;version&gt;</span>1.1.8<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;/plugin&gt;</span>
        <span class="nt">&lt;/plugins&gt;</span>
    <span class="nt">&lt;/build&gt;</span>

<span class="nt">&lt;/project&gt;</span>
</code></pre></div></div>

<p>Tämän jälkeen projektille voi tehdä mutaatiotestausraportteja, joista käy ilmi myös rivikattavuus. Tehdään vielä näiden generoimisesta hieman helpompaa.</p>

<p>Lisää projektiin uusi tiedosto <strong>New File…</strong>-näppäimellä. Valitse <strong>XML -&gt; XML Document</strong> ja anna sille nimeksi <strong>nbactions</strong>. Siirry seuraavan ikkunaan ja valitse <strong>Well-formed Document</strong>. Paina Finish. Nyt projektissa pitäisi olla uusi <em>nbactions.xml</em>-tiedosto. Jos se ei ole Project Files-kansiossa, siirrä se sinne.</p>

<p>Avaa tiedosto ja korvaa sen sisältö tällä:</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;actions&gt;</span>
    <span class="nt">&lt;action&gt;</span>
        <span class="nt">&lt;actionName&gt;</span>CUSTOM-pit<span class="nt">&lt;/actionName&gt;</span>
        <span class="nt">&lt;displayName&gt;</span>pit<span class="nt">&lt;/displayName&gt;</span>
        <span class="nt">&lt;goals&gt;</span>
            <span class="nt">&lt;goal&gt;</span>org.pitest:pitest-maven:mutationCoverage<span class="nt">&lt;/goal&gt;</span>
        <span class="nt">&lt;/goals&gt;</span>
    <span class="nt">&lt;/action&gt;</span>
<span class="nt">&lt;/actions&gt;</span>
</code></pre></div></div>

<h3 id="4-luo-dokumentaatiokansio-ja-puske-gittiin">4. Luo dokumentaatiokansio ja puske gittiin</h3>

<p>Dokumentaatiolle kannattaa luoda oma kansio, jotta projektin juuri pysyy siistinä. Tyhjään dokumentaatiokansioon täytyy lisäksi luoda edes yksi tiedosto jotta git osaa lisätä sen versiohallintaan. Tämän voi tehdä esimerkiksi luomalla valmiiksi ensimmäisen viikkoraportin. Tämän jälkeen muutokset voi puskea gittiin.</p>

<p><img src="../../assets/doc.png" alt="folder" /></p>

  </div><a class="u-url" href="/2020_alkukesa/fi/maven-gradle/" hidden></a>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var title = "Tiralabra - 2020 alkukesä";
      var description = "Helsingin yliopiston Aineopintojen harjoitustyö: Tietorakenteet ja algoritmit - kurssin kurssisivu";
      var refurl = "http://localhost:4000";
      var eroot = document.getElementsByClassName("page-header")[0];
      if (document.URL.includes("/en/")) {
        refurl = refurl + "en/";
        title = "Data Structures Project, 2020 start of summer";
        description = "Course page for the Data Structures Project course at the University of Helsinki";
      }
      var elem = document.getElementsByClassName("project-tagline")[0];
      var a = document.createElement("a");
      a.setAttribute("href", refurl);
      a.setAttribute("style", "color: white;text-decoration: none");
      a.appendChild(elem);
      elem.innerHTML = description;
      eroot.insertBefore(a, eroot.firstChild);
  
      elem = document.getElementsByClassName("project-name")[0];
      a = document.createElement("a");
      a.setAttribute("href", refurl);
      a.setAttribute("style", "color: white;text-decoration: none");
      a.appendChild(elem);
      elem.innerHTML = title;
      eroot.insertBefore(a, eroot.firstChild);
    });
    
  </script>
</article>


    <footer class="site-footer">
      
      <span class="site-footer-owner"><a href="https://github.com/millakortelainen/2020_alkukesa">2020_alkukesa</a>
        is maintained by <a href="https://github.com/millakortelainen">millakortelainen</a>.</span>
      
      <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub
          Pages</a>.</span>
    </footer>
  </main>
</body>

</html>